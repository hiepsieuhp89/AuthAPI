{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactJS\\\\AuthApi2\\\\src\\\\app\\\\pages\\\\custom-pages\\\\CoursePages\\\\products-delete-dialog\\\\ProductsDeleteDialog.js\";\n\n/* eslint-disable no-restricted-imports */\nimport React from \"react\";\nimport { Modal } from \"react-bootstrap\"; //import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\n\nimport { ModalProgressBar } from \"../../../../../_metronic/_partials/controls\"; //import * as actions from \"../../../_redux/products/productsActions\";\n\nimport { useHistory } from \"react-router-dom\"; //import { useProductsUIContext } from \"../ProductsUIContext\";\n\nexport function ProductsDeleteDialog(_ref) {\n  var show = _ref.show,\n      onHide = _ref.onHide,\n      ids = _ref.ids;\n  var history = useHistory();\n  var isLoading = false; // Products UI Context\n  // const productsUIContext = useProductsUIContext();\n  // const productsUIProps = useMemo(() => {\n  //   return {\n  //     ids: productsUIContext.ids,\n  //     setIds: productsUIContext.setIds,\n  //     queryParams: productsUIContext.queryParams,\n  //   };\n  // }, [productsUIContext]);\n  // // Products Redux state\n  // const dispatch = useDispatch();\n  // const { isLoading } = useSelector(\n  //   (state) => ({ isLoading: state.products.actionsLoading }),\n  //   shallowEqual\n  // );\n  // // looking for loading/dispatch\n  // useEffect(() => {}, [isLoading, dispatch]);\n  // // if there weren't selected products we should close modal\n  // useEffect(() => {\n  //   if (!productsUIProps.ids || productsUIProps.ids.length === 0) {\n  //     onHide();\n  //   }\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [productsUIProps.ids]);\n\n  var deleteProducts = function deleteProducts() {\n    console.log(JSON.stringify(ids));\n    fetch(\"\".concat(process.env.REACT_APP_WEBSERVER_API_URL, \"/course\"), {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(ids)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      onHide();\n      history.push('/courses'); // if(!result.status){\n      //   //setMessages([{message:\"Sửa khóa học không thành công\", variant:\"danger\"}]);\n      // }\n      // else{\n      //   history.push('/courses');\n      // }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: onHide,\n    \"aria-labelledby\": \"example-modal-sizes-title-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, isLoading && /*#__PURE__*/React.createElement(ModalProgressBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    id: \"example-modal-sizes-title-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Courses Delete\")), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, !isLoading && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Are you sure to permanently delete selected courses?\"), isLoading && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 23\n    }\n  }, \"Courses are deleting...\")), /*#__PURE__*/React.createElement(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: onHide,\n    className: \"btn btn-light btn-elevate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(React.Fragment, null, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: deleteProducts,\n    className: \"btn btn-primary btn-elevate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Delete\"))));\n}","map":{"version":3,"sources":["D:/ReactJS/AuthApi2/src/app/pages/custom-pages/CoursePages/products-delete-dialog/ProductsDeleteDialog.js"],"names":["React","Modal","ModalProgressBar","useHistory","ProductsDeleteDialog","show","onHide","ids","history","isLoading","deleteProducts","console","log","JSON","stringify","fetch","process","env","REACT_APP_WEBSERVER_API_URL","method","headers","body","then","res","json","result","push"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,iBAAtB,C,CACA;;AACA,SAASC,gBAAT,QAAiC,6CAAjC,C,CACA;;AACA,SAASC,UAAT,QAA2B,kBAA3B,C,CACA;;AAEA,OAAO,SAASC,oBAAT,OAAoD;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAdC,MAAc,QAAdA,MAAc;AAAA,MAANC,GAAM,QAANA,GAAM;AAEzD,MAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,MAAMM,SAAS,GAAG,KAAlB,CAHyD,CAIzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAE3BC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeP,GAAf,CAAZ;AAEAQ,IAAAA,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,2BAAhB,cAAqD;AACtDC,MAAAA,MAAM,EAAE,QAD8C;AAEtDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF6C;AAKtDC,MAAAA,IAAI,EAAER,IAAI,CAACC,SAAL,CAAeP,GAAf;AALgD,KAArD,CAAL,CAOGe,IAPH,CAOQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KAPX,EAO2BF,IAP3B,CAOgC,UAACG,MAAD,EAAY;AACxCnB,MAAAA,MAAM;AACNE,MAAAA,OAAO,CAACkB,IAAR,CAAa,UAAb,EAFwC,CAGxC;AACA;AACA;AACA;AACA;AACA;AACD,KAhBH;AAiBD,GArBD;;AAuBA,sBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAErB,IADR;AAEE,IAAA,MAAM,EAAEC,MAFV;AAGE,uBAAgB,8BAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKGG,SAAS,iBAAI,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALhB,eAME,oBAAC,KAAD,CAAO,MAAP;AAAc,IAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD,CAAO,KAAP;AAAa,IAAA,EAAE,EAAC,8BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CANF,eAWE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACA,SAAD,iBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAFJ,EAIGA,SAAS,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAJhB,CAXF,eAiBE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEH,MAFX;AAGE,IAAA,SAAS,EAAC,2BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAQE,8CARF,eASE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEI,cAFX;AAGE,IAAA,SAAS,EAAC,6BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,CADF,CAjBF,CADF;AAuCD","sourcesContent":["/* eslint-disable no-restricted-imports */\r\nimport React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\n//import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../_metronic/_partials/controls\";\r\n//import * as actions from \"../../../_redux/products/productsActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n//import { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nexport function ProductsDeleteDialog({ show, onHide, ids}) {\r\n\r\n  const history = useHistory();\r\n  const isLoading = false;\r\n  // Products UI Context\r\n  // const productsUIContext = useProductsUIContext();\r\n  // const productsUIProps = useMemo(() => {\r\n  //   return {\r\n  //     ids: productsUIContext.ids,\r\n  //     setIds: productsUIContext.setIds,\r\n  //     queryParams: productsUIContext.queryParams,\r\n  //   };\r\n  // }, [productsUIContext]);\r\n\r\n  // // Products Redux state\r\n  // const dispatch = useDispatch();\r\n  // const { isLoading } = useSelector(\r\n  //   (state) => ({ isLoading: state.products.actionsLoading }),\r\n  //   shallowEqual\r\n  // );\r\n\r\n  // // looking for loading/dispatch\r\n  // useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  // // if there weren't selected products we should close modal\r\n  // useEffect(() => {\r\n  //   if (!productsUIProps.ids || productsUIProps.ids.length === 0) {\r\n  //     onHide();\r\n  //   }\r\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [productsUIProps.ids]);\r\n\r\n  const deleteProducts = () => {\r\n\r\n    console.log(JSON.stringify(ids));\r\n    \r\n    fetch(`${process.env.REACT_APP_WEBSERVER_API_URL}/course`,{\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(ids),\r\n      })\r\n      .then(res => res.json()).then((result) => {\r\n        onHide();\r\n        history.push('/courses');\r\n        // if(!result.status){\r\n        //   //setMessages([{message:\"Sửa khóa học không thành công\", variant:\"danger\"}]);\r\n        // }\r\n        // else{\r\n        //   history.push('/courses');\r\n        // }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Courses Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete selected courses?</span>\r\n        )}\r\n        {isLoading && <span>Courses are deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteProducts}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}